(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28352b2a"],{6933:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}},[s("div",{staticClass:"loadingio-spinner-pulse-n5w7ej7np6"},[s("div",{staticClass:"ldio-y8241lbpf5"},[s("div"),s("div"),s("div")])])]),t._m(0),s("section",{staticClass:"container mt-5 "},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-md-10"},[s("ul",{staticClass:"list"},[s("li",{class:{done:1===t.page||2===t.page||3===t.page}},[t._v("1")]),s("li",{staticClass:"bar1",class:{done:2===t.page||3===t.page}},[t._v("2")]),s("li",{staticClass:"bar2",class:{done:3===t.page}},[t._v("3")])])])])]),s("section",{staticClass:"container mb-3"},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-md-10 mx-auto step-3",class:{show:3===t.page}},[s("h2",{staticClass:"text-center mb-3"},[t._v("預約明細")]),s("form",{on:{submit:function(e){return e.preventDefault(),t.payOrder()}}},[s("table",{staticClass:"table table-bordered text-center",staticStyle:{background:"#f8f9fa"}},[t._m(1),t._l(t.order.products,(function(e){return s("tbody",{key:e.id},[s("tr",[s("th",{staticClass:"rounded-0",staticStyle:{width:"300px",height:"300px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+e.product.imageUrl[0]+")"},attrs:{scope:"row"}}),s("td",{staticClass:"align-middle"},[t._v(" "+t._s(e.product.title)+" ")]),s("td",{staticClass:"align-middle"},[t._v(" "+t._s(e.product.price)+" 萬 ")])])])}))],2),s("div",{staticClass:"row justify-content-start"},[s("div",{staticClass:"col-md-12"},[s("table",{staticClass:"table table-bordered text-left",staticStyle:{background:"#f8f9fa"}},[s("tr",{staticClass:"border border-secondary"},[s("th",{attrs:{scope:"col"}},[t._v("姓名")]),s("td",[t._v(" "+t._s(t.order.user.name)+" ")])]),s("tr",{staticClass:"border border-secondary"},[s("th",{attrs:{scope:"col"}},[t._v("信箱")]),s("td",[t._v(" "+t._s(t.order.user.email)+" ")])]),s("tr",{staticClass:"border border-secondary"},[s("th",{attrs:{scope:"col"}},[t._v("電話")]),s("td",[t._v(" "+t._s(t.order.user.tel)+" ")])]),s("tr",{staticClass:"border border-secondary"},[s("th",{attrs:{scope:"col"}},[t._v("地址")]),s("td",[t._v(" "+t._s(t.order.user.address)+" ")])]),s("tr",{staticClass:"border border-secondary"},[s("th",{attrs:{scope:"col"}},[t._v("留言")]),s("td",[t._v(" "+t._s(t.order.message)+" ")])])]),t._m(2)])])])])])])],1)},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"container-fluid text-white banner-img banner-product"},[s("div",{staticClass:"container h-100"},[s("div",{staticClass:"row h-100"},[s("div",{staticClass:"col-md-12 h-100"},[s("div",{staticClass:"d-flex align-items-end h-100"},[s("div",{staticClass:"mb-5"},[s("h2",[t._v("預約專區")])])])])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{attrs:{scope:"col-5"}}),s("th",{attrs:{scope:"col"}},[t._v("案名")]),s("th",{attrs:{scope:"col"}},[t._v("售價")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"btn-toolbar justify-content-end"},[s("button",{staticClass:"btn btn-more",attrs:{type:"submit"}},[t._v("確認預約")])])}],i=(s("99af"),{data:function(){return{isLoading:!1,page:3,form:{name:"",email:"",tel:"",address:"",reservation_date:"",reservation_time:"",payment:"WebATM",message:""},orderId:"",order:{user:{}}}},methods:{getOrder:function(){var t=this;this.isLoading=!0;var e="".concat("https://course-ec-api.hexschool.io/api/").concat("805a8755-d565-473e-90ee-9d24771ddf47","/ec/orders/").concat(this.orderId);this.$http.get(e).then((function(e){t.order=e.data.data,t.isLoading=!1})).catch((function(){t.isLoading=!1,t.$bus.$emit("msg:push","無法取得資料，稍後再試","danger")}))},payOrder:function(){var t=this;this.isLoading=!0;var e="".concat("https://course-ec-api.hexschool.io/api/").concat("805a8755-d565-473e-90ee-9d24771ddf47","/ec/orders/").concat(this.orderId,"/paying");this.$http.post(e).then((function(){t.getOrder(),t.$router.push("/success"),t.isLoading=!1,t.$bus.$emit("msg:push","預約成功","success")})).catch((function(){t.isLoading=!1,t.$bus.$emit("msg:push","無法取得資料，稍後再試","danger")}))}},created:function(){this.orderId=this.$route.params.orderId,this.getOrder()}}),o=i,c=s("2877"),n=Object(c["a"])(o,a,r,!1,null,null,null);e["default"]=n.exports},"99af":function(t,e,s){"use strict";var a=s("23e7"),r=s("d039"),i=s("e8b5"),o=s("861d"),c=s("7b0b"),n=s("50c4"),d=s("8418"),l=s("65f0"),u=s("1dde"),p=s("b622"),h=s("2d00"),v=p("isConcatSpreadable"),f=9007199254740991,b="Maximum allowed index exceeded",g=h>=51||!r((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),m=u("concat"),_=function(t){if(!o(t))return!1;var e=t[v];return void 0!==e?!!e:i(t)},C=!g||!m;a({target:"Array",proto:!0,forced:C},{concat:function(t){var e,s,a,r,i,o=c(this),u=l(o,0),p=0;for(e=-1,a=arguments.length;e<a;e++)if(i=-1===e?o:arguments[e],_(i)){if(r=n(i.length),p+r>f)throw TypeError(b);for(s=0;s<r;s++,p++)s in i&&d(u,p,i[s])}else{if(p>=f)throw TypeError(b);d(u,p++,i)}return u.length=p,u}})}}]);
//# sourceMappingURL=chunk-28352b2a.6cdc00f2.js.map