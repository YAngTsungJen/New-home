(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-43328d34"],{"057f":function(t,e,o){var a=o("fc6a"),r=o("241c").f,s={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],n=function(t){try{return r(t)}catch(e){return i.slice()}};t.exports.f=function(t){return i&&"[object Window]"==s.call(t)?n(t):r(a(t))}},1799:function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("nav",{attrs:{"aria-label":"Page navigation example"}},[o("ul",{staticClass:"pagination justify-content-center"},[o("li",{staticClass:"page-item",class:{disabled:1===t.pages.current_page}},[o("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(e){return e.preventDefault(),t.updatePage(t.pages.current_page-1)}}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.pages.total_pages,(function(e){return o("li",{key:e.current_page,staticClass:"page-item",class:{active:e===t.pages.current_page}},[o("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(o){return o.preventDefault(),t.updatePage(e)}}},[t._v(t._s(e))])])})),o("li",{staticClass:"page-item",class:{disabled:t.pages.current_page===t.pages.total_pages}},[o("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(e){return e.preventDefault(),t.updatePage(t.pages.current_page+1)}}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])])},r=[],s={props:{pages:{type:Object,default:function(){return{}}}},methods:{updatePage:function(t){this.$emit("update",t)}}},i=s,n=(o("3cc3"),o("2877")),c=Object(n["a"])(i,a,r,!1,null,"4a74cf9b",null);e["a"]=c.exports},"3cc3":function(t,e,o){"use strict";var a=o("e710"),r=o.n(a);r.a},"4de4":function(t,e,o){"use strict";var a=o("23e7"),r=o("b727").filter,s=o("1dde"),i=o("ae40"),n=s("filter"),c=i("filter");a({target:"Array",proto:!0,forced:!n||!c},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},5530:function(t,e,o){"use strict";o.d(e,"a",(function(){return s}));o("a4d3"),o("4de4"),o("4160"),o("e439"),o("dbb4"),o("b64b"),o("159b");function a(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function r(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,a)}return o}function s(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(Object(o),!0).forEach((function(e){a(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}},"61bc":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}},[o("div",{staticClass:"loadingio-spinner-pulse-n5w7ej7np6"},[o("div",{staticClass:"ldio-y8241lbpf5"},[o("div"),o("div"),o("div")])])]),o("div",{staticClass:"container"},[o("div",{staticClass:"text-right mt-4"},[o("button",{staticClass:"btn btn-more",attrs:{type:"button"},on:{click:function(e){return t.openmodal("new")}}},[t._v("新增房間")])]),o("div",{staticClass:"table-responsive mt-2"},[o("table",{staticClass:"table table-striped table-more"},[t._m(0),o("tbody",t._l(t.products,(function(e){return o("tr",{key:e.id},[o("th",{attrs:{scope:"row"}},[t._v(t._s(e.category))]),o("td",{attrs:{width:"300"}},[t._v(t._s(e.title))]),o("td"),o("td",[t._v(t._s(e.origin_price))]),o("td",[t._v(t._s(e.price))]),o("td",[o("label",{staticClass:"switch"},[o("input",{attrs:{type:"checkbox",disabled:""},domProps:{checked:e.enabled}}),o("span",{staticClass:"slider round"})])]),o("td",{attrs:{width:"180"}},[o("div",{staticClass:"btn-group"},[o("button",{staticClass:"btn btn-more btn-sm",attrs:{type:"button"},on:{click:function(o){return o.preventDefault(),t.openmodal("edit",e)}}},[t._v("更新 ")]),o("button",{staticClass:"btn btn-dark btn-sm",attrs:{type:"button"},on:{click:function(o){return o.preventDefault(),t.openmodal("del",e)}}},[t._v("刪除")])])])])})),0)])]),o("Pagination",{staticClass:"justify-content-center",attrs:{pages:t.pagination},on:{update:t.getProducts}}),o("Productmodal",{ref:"productModal",attrs:{product:t.tempProduct,isNew:t.isNew},on:{update:t.getProducts}}),o("DelProducts",{ref:"delProductModal",attrs:{"temp-product":t.tempProduct},on:{update:t.getProducts}})],1)],1)},r=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("thead",[o("tr",[o("th",{attrs:{width:"140"}},[t._v("建案位址")]),o("th",{attrs:{width:"250"}},[t._v("建案名稱")]),o("th",{attrs:{width:"250"}},[t._v("設施服務")]),o("th",{attrs:{width:"140"}},[t._v("坪數")]),o("th",{attrs:{width:"140"}},[t._v("價格")]),o("th",{attrs:{width:"250"}},[t._v("按鈕")]),o("th",{attrs:{width:"140"}},[t._v("編輯")])])])}],s=(o("99af"),o("5530")),i=o("1157"),n=o.n(i),c=o("1799"),d=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}},[o("div",{staticClass:"loadingio-spinner-pulse-n5w7ej7np6"},[o("div",{staticClass:"ldio-y8241lbpf5"},[o("div"),o("div"),o("div")])])]),o("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[o("div",{staticClass:"modal-dialog modal-xl",attrs:{role:"document"}},[o("div",{staticClass:"modal-content"},[o("div",{staticClass:"modal-header bg-dark text-white"},[o("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel "}},[o("span",[t._v(t._s(t.isNew?"新增房間":"重訂房間"))])]),t._m(0)]),o("div",{staticClass:"modal-body"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-4"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"imageUrl"}},[t._v("輸入圖片網址")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.imageUrl[0],expression:"tempProduct.imageUrl[0]"}],staticClass:"form-control",attrs:{id:"imageUrl",type:"text",placeholder:"請輸入圖片連結"},domProps:{value:t.tempProduct.imageUrl[0]},on:{input:function(e){e.target.composing||t.$set(t.tempProduct.imageUrl,0,e.target.value)}}})]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"cust"}},[t._v("上傳圖片網址")]),o("input",{staticClass:"form-control",attrs:{type:"file",id:"cust"},on:{change:function(e){return t.upload()}}})]),o("img",{staticClass:"img-fluid",attrs:{src:t.tempProduct.imageUrl[0]}}),t.tempProduct.options.images?o("div",{staticClass:"mt-5"},[t._l(t.tempProduct.options.images,(function(e,a){return o("div",{key:a,staticClass:"mb-3 input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.options.images[a],expression:"tempProduct.options.images[key]"}],staticClass:"form-control",attrs:{type:"url",placeholder:"請輸入連結"},domProps:{value:t.tempProduct.options.images[a]},on:{input:function(e){e.target.composing||t.$set(t.tempProduct.options.images,a,e.target.value)}}}),o("img",{staticClass:"img-fluid my-2",attrs:{src:t.tempProduct.options.images[a]}}),o("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:function(e){return t.tempProduct.options.images.splice(a,1)}}},[t._v(" 移除 ")])])})),t.tempProduct.options.images[t.tempProduct.options.images.length-1]||!t.tempProduct.options.images.length?o("div",[o("button",{staticClass:"btn btn-outline-primary btn-sm d-block w-100",on:{click:function(e){return t.tempProduct.options.images.push("")}}},[t._v(" 新增圖片 ")])]):t._e()],2):t._e()]),o("div",{staticClass:"col-sm-8"},[o("div",{staticClass:"form-row"},[o("div",{staticClass:"col-md-4 mb-3"},[o("label",{attrs:{for:"title"}},[t._v("建案名稱")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.title,expression:"tempProduct.title"}],staticClass:"form-control",attrs:{id:"tempProduct.title",type:"text",placeholder:"請輸入標題"},domProps:{value:t.tempProduct.title},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"title",e.target.value)}}})]),o("div",{staticClass:"col-md-4 mb-3"},[o("label",{attrs:{for:"category"}},[t._v("區域")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.category,expression:"tempProduct.category"}],staticClass:"form-control",attrs:{id:"tempProduct.category",type:"text",placeholder:"請輸入分類"},domProps:{value:t.tempProduct.category},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"category",e.target.value)}}})]),o("div",{staticClass:"col-md-4 mb-3"},[o("label",{attrs:{for:"unit"}},[t._v("單位（不需使用，請填0）")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.unit,expression:"tempProduct.unit"}],staticClass:"form-control",attrs:{id:"tempProduct.unit",type:"text",placeholder:"請輸入單位"},domProps:{value:t.tempProduct.unit},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"unit",e.target.value)}}})])]),o("hr"),o("div",{staticClass:"form-row"},[o("div",{staticClass:"col-md-4 mb-3"},[o("label",{attrs:{for:"origin_price"}},[t._v("原價（若完銷請填0，未完銷請填價格）")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.origin_price,expression:"tempProduct.origin_price"}],staticClass:"form-control",attrs:{id:"tempProduct.origin_price",type:"text",placeholder:"請輸入原價"},domProps:{value:t.tempProduct.origin_price},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"origin_price",e.target.value)}}})]),o("div",{staticClass:"col-md-4 mb-3"},[o("label",{attrs:{for:"price"}},[t._v("售價（若完銷請填0，未完銷請填價格）")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.price,expression:"tempProduct.price"}],staticClass:"form-control",attrs:{id:"tempProduct.price",type:"text",placeholder:"請輸入售價"},domProps:{value:t.tempProduct.price},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"price",e.target.value)}}})]),o("div",{staticClass:"col-md-4 mb-3"},[o("label",{attrs:{for:"description"}},[t._v("產品描述（不需使用，請填0）")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.description,expression:"tempProduct.description"}],staticClass:"form-control",attrs:{name:"description",id:"tempProduct.description",placeholder:"請輸入產品描述"},domProps:{value:t.tempProduct.description},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"description",e.target.value)}}})])]),o("hr"),o("div",{staticClass:"form-row"},[o("div",{staticClass:"col-md-4 mb-3"},[o("label",{attrs:{for:"unitprice"}},[t._v("每坪單價（請一併寫入單位）")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.options.unitprice,expression:"tempProduct.options.unitprice"}],staticClass:"form-control",attrs:{type:"text",id:"unitprice",placeholder:"請輸入單價"},domProps:{value:t.tempProduct.options.unitprice},on:{input:function(e){e.target.composing||t.$set(t.tempProduct.options,"unitprice",e.target.value)}}})]),o("div",{staticClass:"col-md-4 mb-3"},[o("label",{attrs:{for:"structure"}},[t._v("格局")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.options.structure,expression:"tempProduct.options.structure"}],staticClass:"form-control",attrs:{id:"structure",type:"text",placeholder:"請輸入格局"},domProps:{value:t.tempProduct.options.structure},on:{input:function(e){e.target.composing||t.$set(t.tempProduct.options,"structure",e.target.value)}}})]),o("div",{staticClass:"col-md-4 mb-3"},[o("label",{attrs:{for:"homeage"}},[t._v("屋齡")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.options.homeage,expression:"tempProduct.options.homeage"}],staticClass:"form-control",attrs:{type:"text",id:"homeage",placeholder:"請輸入屋齡"},domProps:{value:t.tempProduct.options.homeage},on:{input:function(e){e.target.composing||t.$set(t.tempProduct.options,"homeage",e.target.value)}}})])]),o("hr"),o("div",{staticClass:"form-row"},[o("div",{staticClass:"col-md-4 mb-3"},[o("label",{attrs:{for:"landnumber"}},[t._v("權狀坪數（請一併寫入單位）")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.options.landnumber,expression:"tempProduct.options.landnumber"}],staticClass:"form-control",attrs:{type:"text",id:"landnumber",placeholder:"請輸入權狀坪數"},domProps:{value:t.tempProduct.options.landnumber},on:{input:function(e){e.target.composing||t.$set(t.tempProduct.options,"landnumber",e.target.value)}}})]),o("div",{staticClass:"col-md-4 mb-3"},[o("label",{attrs:{for:"floor"}},[t._v("樓層")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.options.floor,expression:"tempProduct.options.floor"}],staticClass:"form-control",attrs:{id:"floor",type:"text",placeholder:"請輸入樓層"},domProps:{value:t.tempProduct.options.floor},on:{input:function(e){e.target.composing||t.$set(t.tempProduct.options,"floor",e.target.value)}}})]),o("div",{staticClass:"col-md-4 mb-3"},[o("label",{attrs:{for:"direction"}},[t._v("朝向")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.options.direction,expression:"tempProduct.options.direction"}],staticClass:"form-control",attrs:{type:"text",id:"direction",placeholder:"請輸入朝向"},domProps:{value:t.tempProduct.options.direction},on:{input:function(e){e.target.composing||t.$set(t.tempProduct.options,"direction",e.target.value)}}})])]),o("hr"),o("div",{staticClass:"form-row"},[o("div",{staticClass:"col-md-4 mb-3"},[o("label",{attrs:{for:"address"}},[t._v("地址")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.options.address,expression:"tempProduct.options.address"}],staticClass:"form-control",attrs:{type:"text",id:"address",placeholder:"請輸入地址"},domProps:{value:t.tempProduct.options.address},on:{input:function(e){e.target.composing||t.$set(t.tempProduct.options,"address",e.target.value)}}})]),o("div",{staticClass:"col-md-4 mb-3"},[o("label",{attrs:{for:"car"}},[t._v("車位")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.options.car,expression:"tempProduct.options.car"}],staticClass:"form-control",attrs:{type:"text",id:"car",placeholder:"請輸入車位"},domProps:{value:t.tempProduct.options.car},on:{input:function(e){e.target.composing||t.$set(t.tempProduct.options,"car",e.target.value)}}})]),o("div",{staticClass:"col-md-4 mb-3"},[o("label",{attrs:{for:"content"}},[t._v("說明內容（不需使用，請填0）")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.content,expression:"tempProduct.content"}],staticClass:"form-control",attrs:{type:"text",name:"content",id:"tempProduct.content",placeholder:"請輸入說明內容"},domProps:{value:t.tempProduct.content},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"content",e.target.value)}}})])]),o("hr"),o("div",{staticClass:"form-row"},[o("div",{staticClass:"col-md-4 mb-3"},[o("label",{attrs:{for:"now"}},[t._v("現況（例如：已完銷、現場看屋...）")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.options.now,expression:"tempProduct.options.now"}],staticClass:"form-control",attrs:{type:"text",id:"now",placeholder:"請輸入現況"},domProps:{value:t.tempProduct.options.now},on:{input:function(e){e.target.composing||t.$set(t.tempProduct.options,"now",e.target.value)}}})]),o("div",{staticClass:"col-md-4 mb-3"},[o("label",{attrs:{for:"type"}},[t._v("型態")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.options.type,expression:"tempProduct.options.type"}],staticClass:"form-control",attrs:{id:"type",type:"text",placeholder:"請輸入型態"},domProps:{value:t.tempProduct.options.type},on:{input:function(e){e.target.composing||t.$set(t.tempProduct.options,"type",e.target.value)}}})]),o("div",{staticClass:"col-md-4 mb-3"},[o("label",{attrs:{for:"decoration"}},[t._v("裝潢程度")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.options.decoration,expression:"tempProduct.options.decoration"}],staticClass:"form-control",attrs:{type:"text",id:"decoration",placeholder:"請輸入裝潢程度"},domProps:{value:t.tempProduct.options.decoration},on:{input:function(e){e.target.composing||t.$set(t.tempProduct.options,"decoration",e.target.value)}}})])]),o("hr"),o("div",{staticClass:"form-row"},[o("div",{staticClass:"col-md-4 mb-3"},[o("label",{attrs:{for:"managefees"}},[t._v("管理費")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.options.managefees,expression:"tempProduct.options.managefees"}],staticClass:"form-control",attrs:{id:"managefees",type:"text",placeholder:"請輸入管理費"},domProps:{value:t.tempProduct.options.managefees},on:{input:function(e){e.target.composing||t.$set(t.tempProduct.options,"managefees",e.target.value)}}})]),o("div",{staticClass:"col-md-4 mb-3"},[o("label",{attrs:{for:"lease"}},[t._v("帶租約")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.options.lease,expression:"tempProduct.options.lease"}],staticClass:"form-control",attrs:{type:"text",id:"lease",placeholder:"請輸入帶租約"},domProps:{value:t.tempProduct.options.lease},on:{input:function(e){e.target.composing||t.$set(t.tempProduct.options,"lease",e.target.value)}}})]),o("div",{staticClass:"col-md-4 mb-3"},[o("label",{attrs:{for:"use"}},[t._v("法定用途")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.options.use,expression:"tempProduct.options.use"}],staticClass:"form-control",attrs:{id:"use",type:"text",placeholder:"請輸入法定用途"},domProps:{value:t.tempProduct.options.use},on:{input:function(e){e.target.composing||t.$set(t.tempProduct.options,"use",e.target.value)}}})])]),o("hr"),o("div",{staticClass:"form-row"},[o("div",{staticClass:"col-md-4 mb-3"},[o("label",{attrs:{for:"mainbuilding"}},[t._v("主建物（請一併寫入單位）")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.options.mainbuilding,expression:"tempProduct.options.mainbuilding"}],staticClass:"form-control",attrs:{type:"text",id:"mainbuilding",placeholder:"請輸入主建物"},domProps:{value:t.tempProduct.options.mainbuilding},on:{input:function(e){e.target.composing||t.$set(t.tempProduct.options,"mainbuilding",e.target.value)}}})]),o("div",{staticClass:"col-md-4 mb-3"},[o("label",{attrs:{for:"subbuilding"}},[t._v("附屬建物（請一併寫入單位）")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.options.subbuilding,expression:"tempProduct.options.subbuilding"}],staticClass:"form-control",attrs:{id:"subbuilding",type:"text",placeholder:"請輸入附屬建物"},domProps:{value:t.tempProduct.options.subbuilding},on:{input:function(e){e.target.composing||t.$set(t.tempProduct.options,"subbuilding",e.target.value)}}})]),o("div",{staticClass:"col-md-4 mb-3"},[o("label",{attrs:{for:"land"}},[t._v("土地坪數（請一併寫入單位）")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.options.land,expression:"tempProduct.options.land"}],staticClass:"form-control",attrs:{id:"land",type:"text",placeholder:"請輸入土地坪數"},domProps:{value:t.tempProduct.options.land},on:{input:function(e){e.target.composing||t.$set(t.tempProduct.options,"land",e.target.value)}}})])]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"amount"}},[t._v("判定是否完銷（填已完銷或要賣出的價格）")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.options.amount,expression:"tempProduct.options.amount"}],staticClass:"form-control",attrs:{id:"amount",type:"text",placeholder:"請輸入剩餘戶數"},domProps:{value:t.tempProduct.options.amount},on:{input:function(e){e.target.composing||t.$set(t.tempProduct.options,"amount",e.target.value)}}})]),o("hr"),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"feature"}},[t._v("屋況特色")]),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.options.feature,expression:"tempProduct.options.feature"}],staticClass:"form-control",attrs:{id:"feature",type:"text",placeholder:"請輸入屋況特色"},domProps:{value:t.tempProduct.options.feature},on:{input:function(e){e.target.composing||t.$set(t.tempProduct.options,"feature",e.target.value)}}})]),o("hr"),o("div",{staticClass:"form-group"},[o("div",{staticClass:"form-check"},[o("label",{staticClass:"form-check-label",attrs:{for:"enabled"}}),o("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.enabled,expression:"tempProduct.enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox",name:"enabled",id:"tempProduct.enabled"},domProps:{checked:Array.isArray(t.tempProduct.enabled)?t._i(t.tempProduct.enabled,null)>-1:t.tempProduct.enabled},on:{change:function(e){var o=t.tempProduct.enabled,a=e.target,r=!!a.checked;if(Array.isArray(o)){var s=null,i=t._i(o,s);a.checked?i<0&&t.$set(t.tempProduct,"enabled",o.concat([s])):i>-1&&t.$set(t.tempProduct,"enabled",o.slice(0,i).concat(o.slice(i+1)))}else t.$set(t.tempProduct,"enabled",r)}}}),t._v("啟用 ")])]),o("hr"),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"map"}},[t._v("地圖資料")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.options.map,expression:"tempProduct.options.map"}],staticClass:"form-control",attrs:{type:"text",id:"map",placeholder:"請輸入map地圖"},domProps:{value:t.tempProduct.options.map},on:{input:function(e){e.target.composing||t.$set(t.tempProduct.options,"map",e.target.value)}}})]),o("div",{staticClass:"form-check form-check-inline mb-2"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.options.nearplace,expression:"tempProduct.options.nearplace"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"convenience",value:"便利商店"},domProps:{checked:Array.isArray(t.tempProduct.options.nearplace)?t._i(t.tempProduct.options.nearplace,"便利商店")>-1:t.tempProduct.options.nearplace},on:{change:function(e){var o=t.tempProduct.options.nearplace,a=e.target,r=!!a.checked;if(Array.isArray(o)){var s="便利商店",i=t._i(o,s);a.checked?i<0&&t.$set(t.tempProduct.options,"nearplace",o.concat([s])):i>-1&&t.$set(t.tempProduct.options,"nearplace",o.slice(0,i).concat(o.slice(i+1)))}else t.$set(t.tempProduct.options,"nearplace",r)}}}),o("label",{staticClass:"form-check-label mr-2",attrs:{for:"convenience"}},[t._v("便利商店")])]),o("div",{staticClass:"form-check form-check-inline mb-2"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.options.nearplace,expression:"tempProduct.options.nearplace"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"market",value:"傳統市場"},domProps:{checked:Array.isArray(t.tempProduct.options.nearplace)?t._i(t.tempProduct.options.nearplace,"傳統市場")>-1:t.tempProduct.options.nearplace},on:{change:function(e){var o=t.tempProduct.options.nearplace,a=e.target,r=!!a.checked;if(Array.isArray(o)){var s="傳統市場",i=t._i(o,s);a.checked?i<0&&t.$set(t.tempProduct.options,"nearplace",o.concat([s])):i>-1&&t.$set(t.tempProduct.options,"nearplace",o.slice(0,i).concat(o.slice(i+1)))}else t.$set(t.tempProduct.options,"nearplace",r)}}}),o("label",{staticClass:"form-check-label mr-2",attrs:{for:"market"}},[t._v("傳統市場")])]),o("div",{staticClass:"form-check form-check-inline mb-2"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.options.nearplace,expression:"tempProduct.options.nearplace"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"park",value:"公園綠地"},domProps:{checked:Array.isArray(t.tempProduct.options.nearplace)?t._i(t.tempProduct.options.nearplace,"公園綠地")>-1:t.tempProduct.options.nearplace},on:{change:function(e){var o=t.tempProduct.options.nearplace,a=e.target,r=!!a.checked;if(Array.isArray(o)){var s="公園綠地",i=t._i(o,s);a.checked?i<0&&t.$set(t.tempProduct.options,"nearplace",o.concat([s])):i>-1&&t.$set(t.tempProduct.options,"nearplace",o.slice(0,i).concat(o.slice(i+1)))}else t.$set(t.tempProduct.options,"nearplace",r)}}}),o("label",{staticClass:"form-check-label mr-2",attrs:{for:"park"}},[t._v("公園綠地")])]),o("div",{staticClass:"form-check form-check-inline mb-2"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.options.nearplace,expression:"tempProduct.options.nearplace"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"school",value:"學校"},domProps:{checked:Array.isArray(t.tempProduct.options.nearplace)?t._i(t.tempProduct.options.nearplace,"學校")>-1:t.tempProduct.options.nearplace},on:{change:function(e){var o=t.tempProduct.options.nearplace,a=e.target,r=!!a.checked;if(Array.isArray(o)){var s="學校",i=t._i(o,s);a.checked?i<0&&t.$set(t.tempProduct.options,"nearplace",o.concat([s])):i>-1&&t.$set(t.tempProduct.options,"nearplace",o.slice(0,i).concat(o.slice(i+1)))}else t.$set(t.tempProduct.options,"nearplace",r)}}}),o("label",{staticClass:"form-check-label mr-2",attrs:{for:"school"}},[t._v("學校")])]),o("div",{staticClass:"form-check form-check-inline mb-2"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.options.nearplace,expression:"tempProduct.options.nearplace"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"nightmarket",value:"夜市"},domProps:{checked:Array.isArray(t.tempProduct.options.nearplace)?t._i(t.tempProduct.options.nearplace,"夜市")>-1:t.tempProduct.options.nearplace},on:{change:function(e){var o=t.tempProduct.options.nearplace,a=e.target,r=!!a.checked;if(Array.isArray(o)){var s="夜市",i=t._i(o,s);a.checked?i<0&&t.$set(t.tempProduct.options,"nearplace",o.concat([s])):i>-1&&t.$set(t.tempProduct.options,"nearplace",o.slice(0,i).concat(o.slice(i+1)))}else t.$set(t.tempProduct.options,"nearplace",r)}}}),o("label",{staticClass:"form-check-label mr-2",attrs:{for:"nightmarket"}},[t._v("夜市")])])])])]),o("div",{staticClass:"modal-footer"},[o("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),o("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.updateProduct()}}},[t._v("確認")])])])])])],1)},l=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],p={data:function(){return{tempProduct:{imageUrl:[],options:{}},isLoading:!1}},props:{product:{type:Object,default:function(){return{imageUrl:[],options:{}}}},isNew:{type:Boolean,required:!0}},watch:{product:function(){this.tempProduct=this.product,this.tempProduct.options.images||(this.tempProduct.options.images=[])}},methods:{getProduct:function(t){var e=this,o="".concat("https://course-ec-api.hexschool.io/api/").concat("805a8755-d565-473e-90ee-9d24771ddf47","/admin/ec/product/").concat(t);this.$http.get(o).then((function(t){e.tempProduct=t.data.data,n()("#productModal").modal("show")})).catch((function(){e.$bus.$emit("msg:push","無法取得資料，稍後再試","danger")}))},updateProduct:function(){var t=this,e="post",o="".concat("https://course-ec-api.hexschool.io/api/").concat("805a8755-d565-473e-90ee-9d24771ddf47","/admin/ec/product"),a="新增成功囉，ya ~";this.isNew||(e="patch",o="".concat("https://course-ec-api.hexschool.io/api/").concat("805a8755-d565-473e-90ee-9d24771ddf47","/admin/ec/product/").concat(this.tempProduct.id),a="更新成功囉，ya ~"),this.$http[e](o,this.tempProduct).then((function(e){t.$emit("update"),t.$bus.$emit("msg:push",a,"success")})).catch((function(){t.$bus.$emit("msg:push","無法取得資料，稍後再試","danger")})),n()("#productModal").modal("hide")},upload:function(){var t=this;this.isLoading=!0;var e=document.querySelector("#cust").files[0],o=new FormData;o.append("file",e);var a="".concat("https://course-ec-api.hexschool.io/api/").concat("805a8755-d565-473e-90ee-9d24771ddf47","/admin/storage");this.$http.post(a,o,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){200===e.status&&(t.$bus.$emit("msg:push","上傳成功囉，ya ~","success"),t.tempProduct.imageUrl.push(e.data.data.path),document.querySelector("#cust").value="",t.isLoading=!1)})).catch((function(){document.querySelector("#cust").value="",t.isLoading=!1,t.$bus.$emit("msg:push","無法取得資料，稍後再試","danger")}))}}},u=p,m=o("2877"),f=Object(m["a"])(u,d,l,!1,null,null,null),v=f.exports,g=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"modal fade",attrs:{id:"delProductModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[o("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[o("div",{staticClass:"modal-content border-0"},[t._m(0),o("div",{staticClass:"modal-body"},[t._v(" 是否刪除 "),o("strong",{staticClass:"text-danger"},[t._v(t._s(t.tempProduct.title))]),t._v(" 房間(刪除後將無法恢復)。 ")]),o("div",{staticClass:"modal-footer"},[o("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),o("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.delProduct}},[t._v("確認刪除")])])])])])])},b=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"modal-header bg-danger text-white"},[o("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[o("span",[t._v("取消房間")])]),o("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],P={props:["tempProduct"],methods:{delProduct:function(){var t=this,e="".concat("https://course-ec-api.hexschool.io/api/").concat("805a8755-d565-473e-90ee-9d24771ddf47","/admin/ec/product/").concat(this.tempProduct.id);this.$http.delete(e,this.tempProduct).then((function(){t.$emit("delete"),n()("#delProductModal").modal("hide"),t.$bus.$emit("msg:push","拿到資料囉","success")})).catch((function(){n()("#delProductModal").modal("hide"),t.$bus.$emit("msg:push","無法取得資料，稍後再試","danger")}))}}},h=P,y=Object(m["a"])(h,g,b,!1,null,null,null),C=y.exports,_={data:function(){return{isLoading:!0,products:[],tempProduct:{imageUrl:[],options:{nearplace:[],map:[],images:[]}},pagination:{},loadingbtn:"",isNew:!1,enabled:!0}},components:{Pagination:c["a"],Productmodal:v,DelProducts:C},methods:{getProducts:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0;var o="".concat("https://course-ec-api.hexschool.io/api/").concat("805a8755-d565-473e-90ee-9d24771ddf47","/admin/ec/products?page=").concat(e);this.$http.get(o).then((function(e){t.products=e.data.data,t.pagination=e.data.meta.pagination,(t.tempProduct.id||t.isNew)&&(t.tempProduct={imageUrl:[""],options:{nearplace:[],map:[],images:[]}}),t.isLoading=!1})).catch((function(){t.isLoading=!1,t.$bus.$emit("msg:push","無法取得資料，稍後再試","danger")}))},openmodal:function(t,e){"new"===t?(this.$refs.productModal.tempProduct={imageUrl:[""],options:{nearplace:[],map:[],images:[]}},this.isNew=!0,n()("#productModal").modal("show")):"edit"===t?(this.isNew=!1,this.$refs.productModal.getProduct(e.id)):"del"===t&&(this.tempProduct=Object(s["a"])({},e),n()("#delProductModal").modal("show"))}},created:function(){this.getProducts()}},w=_,x=Object(m["a"])(w,a,r,!1,null,null,null);e["default"]=x.exports},"746f":function(t,e,o){var a=o("428f"),r=o("5135"),s=o("e538"),i=o("9bf2").f;t.exports=function(t){var e=a.Symbol||(a.Symbol={});r(e,t)||i(e,t,{value:s.f(t)})}},"99af":function(t,e,o){"use strict";var a=o("23e7"),r=o("d039"),s=o("e8b5"),i=o("861d"),n=o("7b0b"),c=o("50c4"),d=o("8418"),l=o("65f0"),p=o("1dde"),u=o("b622"),m=o("2d00"),f=u("isConcatSpreadable"),v=9007199254740991,g="Maximum allowed index exceeded",b=m>=51||!r((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),P=p("concat"),h=function(t){if(!i(t))return!1;var e=t[f];return void 0!==e?!!e:s(t)},y=!b||!P;a({target:"Array",proto:!0,forced:y},{concat:function(t){var e,o,a,r,s,i=n(this),p=l(i,0),u=0;for(e=-1,a=arguments.length;e<a;e++)if(s=-1===e?i:arguments[e],h(s)){if(r=c(s.length),u+r>v)throw TypeError(g);for(o=0;o<r;o++,u++)o in s&&d(p,u,s[o])}else{if(u>=v)throw TypeError(g);d(p,u++,s)}return p.length=u,p}})},a4d3:function(t,e,o){"use strict";var a=o("23e7"),r=o("da84"),s=o("d066"),i=o("c430"),n=o("83ab"),c=o("4930"),d=o("fdbf"),l=o("d039"),p=o("5135"),u=o("e8b5"),m=o("861d"),f=o("825a"),v=o("7b0b"),g=o("fc6a"),b=o("c04e"),P=o("5c6c"),h=o("7c73"),y=o("df75"),C=o("241c"),_=o("057f"),w=o("7418"),x=o("06cf"),k=o("9bf2"),$=o("d1e7"),N=o("9112"),O=o("6eeb"),j=o("5692"),A=o("f772"),S=o("d012"),M=o("90e3"),L=o("b622"),D=o("e538"),E=o("746f"),U=o("d44e"),T=o("69f3"),q=o("b727").forEach,J=A("hidden"),F="Symbol",B="prototype",I=L("toPrimitive"),Q=T.set,W=T.getterFor(F),z=Object[B],G=r.Symbol,H=s("JSON","stringify"),K=x.f,R=k.f,V=_.f,X=$.f,Y=j("symbols"),Z=j("op-symbols"),tt=j("string-to-symbol-registry"),et=j("symbol-to-string-registry"),ot=j("wks"),at=r.QObject,rt=!at||!at[B]||!at[B].findChild,st=n&&l((function(){return 7!=h(R({},"a",{get:function(){return R(this,"a",{value:7}).a}})).a}))?function(t,e,o){var a=K(z,e);a&&delete z[e],R(t,e,o),a&&t!==z&&R(z,e,a)}:R,it=function(t,e){var o=Y[t]=h(G[B]);return Q(o,{type:F,tag:t,description:e}),n||(o.description=e),o},nt=d?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof G},ct=function(t,e,o){t===z&&ct(Z,e,o),f(t);var a=b(e,!0);return f(o),p(Y,a)?(o.enumerable?(p(t,J)&&t[J][a]&&(t[J][a]=!1),o=h(o,{enumerable:P(0,!1)})):(p(t,J)||R(t,J,P(1,{})),t[J][a]=!0),st(t,a,o)):R(t,a,o)},dt=function(t,e){f(t);var o=g(e),a=y(o).concat(ft(o));return q(a,(function(e){n&&!pt.call(o,e)||ct(t,e,o[e])})),t},lt=function(t,e){return void 0===e?h(t):dt(h(t),e)},pt=function(t){var e=b(t,!0),o=X.call(this,e);return!(this===z&&p(Y,e)&&!p(Z,e))&&(!(o||!p(this,e)||!p(Y,e)||p(this,J)&&this[J][e])||o)},ut=function(t,e){var o=g(t),a=b(e,!0);if(o!==z||!p(Y,a)||p(Z,a)){var r=K(o,a);return!r||!p(Y,a)||p(o,J)&&o[J][a]||(r.enumerable=!0),r}},mt=function(t){var e=V(g(t)),o=[];return q(e,(function(t){p(Y,t)||p(S,t)||o.push(t)})),o},ft=function(t){var e=t===z,o=V(e?Z:g(t)),a=[];return q(o,(function(t){!p(Y,t)||e&&!p(z,t)||a.push(Y[t])})),a};if(c||(G=function(){if(this instanceof G)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=M(t),o=function(t){this===z&&o.call(Z,t),p(this,J)&&p(this[J],e)&&(this[J][e]=!1),st(this,e,P(1,t))};return n&&rt&&st(z,e,{configurable:!0,set:o}),it(e,t)},O(G[B],"toString",(function(){return W(this).tag})),O(G,"withoutSetter",(function(t){return it(M(t),t)})),$.f=pt,k.f=ct,x.f=ut,C.f=_.f=mt,w.f=ft,D.f=function(t){return it(L(t),t)},n&&(R(G[B],"description",{configurable:!0,get:function(){return W(this).description}}),i||O(z,"propertyIsEnumerable",pt,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:G}),q(y(ot),(function(t){E(t)})),a({target:F,stat:!0,forced:!c},{for:function(t){var e=String(t);if(p(tt,e))return tt[e];var o=G(e);return tt[e]=o,et[o]=e,o},keyFor:function(t){if(!nt(t))throw TypeError(t+" is not a symbol");if(p(et,t))return et[t]},useSetter:function(){rt=!0},useSimple:function(){rt=!1}}),a({target:"Object",stat:!0,forced:!c,sham:!n},{create:lt,defineProperty:ct,defineProperties:dt,getOwnPropertyDescriptor:ut}),a({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:mt,getOwnPropertySymbols:ft}),a({target:"Object",stat:!0,forced:l((function(){w.f(1)}))},{getOwnPropertySymbols:function(t){return w.f(v(t))}}),H){var vt=!c||l((function(){var t=G();return"[null]"!=H([t])||"{}"!=H({a:t})||"{}"!=H(Object(t))}));a({target:"JSON",stat:!0,forced:vt},{stringify:function(t,e,o){var a,r=[t],s=1;while(arguments.length>s)r.push(arguments[s++]);if(a=e,(m(e)||void 0!==t)&&!nt(t))return u(e)||(e=function(t,e){if("function"==typeof a&&(e=a.call(this,t,e)),!nt(e))return e}),r[1]=e,H.apply(null,r)}})}G[B][I]||N(G[B],I,G[B].valueOf),U(G,F),S[J]=!0},dbb4:function(t,e,o){var a=o("23e7"),r=o("83ab"),s=o("56ef"),i=o("fc6a"),n=o("06cf"),c=o("8418");a({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(t){var e,o,a=i(t),r=n.f,d=s(a),l={},p=0;while(d.length>p)o=r(a,e=d[p++]),void 0!==o&&c(l,e,o);return l}})},e439:function(t,e,o){var a=o("23e7"),r=o("d039"),s=o("fc6a"),i=o("06cf").f,n=o("83ab"),c=r((function(){i(1)})),d=!n||c;a({target:"Object",stat:!0,forced:d,sham:!n},{getOwnPropertyDescriptor:function(t,e){return i(s(t),e)}})},e538:function(t,e,o){var a=o("b622");e.f=a},e710:function(t,e,o){}}]);
//# sourceMappingURL=chunk-43328d34.f418a9de.js.map